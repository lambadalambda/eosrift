# Base domain for the service (the apex). Self-hosters should set this to their domain.
EOSRIFT_BASE_DOMAIN=eosrift.com

# Domain under which tunnel subdomains are allocated (wildcard or on-demand).
# Example: public URLs look like https://<id>.tunnel.eosrift.com
EOSRIFT_TUNNEL_DOMAIN=tunnel.eosrift.com

# Trust proxy-provided X-Forwarded-* headers (recommended when running behind Caddy).
# If disabled, the server strips Forwarded/X-Forwarded-* before proxying to tunneled upstreams.
EOSRIFT_TRUST_PROXY_HEADERS=1

# TCP tunnel ports (must be open in your firewall/security group).
EOSRIFT_TCP_PORT_RANGE_START=20000
EOSRIFT_TCP_PORT_RANGE_END=21000

# Max concurrent tunnels per authtoken (0 = unlimited).
EOSRIFT_MAX_TUNNELS_PER_TOKEN=0

# Max tunnel create attempts per authtoken per minute (0 = unlimited).
EOSRIFT_MAX_TUNNEL_CREATES_PER_MIN=0

# Optional bootstrap authtoken. If set, the server ensures this token exists in SQLite on startup.
# You can also create additional tokens via: `docker compose exec server /eosrift-server token create`.
EOSRIFT_AUTH_TOKEN=

# Optional metrics token. If set, enables /metrics (requires Authorization: Bearer <token>).
EOSRIFT_METRICS_TOKEN=

# Optional admin token. If set, enables /admin and /api/admin/*.
EOSRIFT_ADMIN_TOKEN=

# Logging
# - EOSRIFT_LOG_FORMAT: text|json
# - EOSRIFT_LOG_LEVEL: debug|info|warn|error
EOSRIFT_LOG_FORMAT=text
EOSRIFT_LOG_LEVEL=info

# Optional ACME contact email (Let's Encrypt). If empty, docker-compose.yml defaults
# to `admin@${EOSRIFT_BASE_DOMAIN}`.
EOSRIFT_ACME_EMAIL=

# Optional GitHub webhook auto-deploy (requires deploy/docker-compose.autodeploy.yml)
# - Set EOSRIFT_DEPLOY_WEBHOOK_SECRET to the same value configured in GitHub webhook settings.
# - Set EOSRIFT_DEPLOY_WEBHOOK_REPOSITORY to "<owner>/<repo>" for strict repository matching.
EOSRIFT_DEPLOY_WEBHOOK_SECRET=
EOSRIFT_DEPLOY_WEBHOOK_REPOSITORY=
EOSRIFT_DEPLOY_WEBHOOK_WORKFLOW=Docker Image
EOSRIFT_DEPLOY_WEBHOOK_BRANCH=main
EOSRIFT_DEPLOY_TIMEOUT=10m
